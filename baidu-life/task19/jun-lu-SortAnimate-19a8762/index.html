<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Sortanimate by jun-lu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="https://assets-cdn.github.com/assets/frameworks-d05617edbd0684501ca011b9998eb456541d8156ca96d8ffcfb175827827f62c.css">
    <style type="text/css">

    	.center{
    		text-align: center;
    	}
    	.btn:hover{
    		color:#000 !important;
    	}
    	.btn-group{
    		margin:40px 0;
    	}
    </style>

    <style type="text/css">
    	.sort-animate-wrap{
    		height:200px;
    		margin:10px 0;
    	}

    	.column{
    		width:20px;height:100%;background:#cccccc;display:inline-block;margin:0 1px;float:none;
    		padding:0;
    	}
		.column:hover{background:#f30;}
		.active{background:#888888}
		.focus{background:#ffcccc;}
		.highlight{
			background:#ff6666;
			margin-bottom:0 !important;
		}
		
    </style>

    <script type="text/javascript" src="js/SortAnimate.js"></script>
	<script type="text/javascript" src="js/cocktail.js"></script>
	<script type="text/javascript" src="js/bubble.js"></script>
	<script type="text/javascript" src="js/comb.js"></script>
	<script type="text/javascript" src="js/insert.js"></script>
	<script type="text/javascript" src="js/oddEven.js"></script>
	<script type="text/javascript" src="js/quick.js"></script>
	<script type="text/javascript" src="js/selection.js"></script>
	<script type="text/javascript" src="js/shell.js"></script>

  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Sort animate</h1>
      <h2 class="project-tagline">Sort animate</h2>
      <a href="https://github.com/jun-lu/SortAnimate" class="btn">View on GitHub</a>
      <a href="https://github.com/jun-lu/SortAnimate/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jun-lu/SortAnimate/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
    	<div class="center">
	    	<h2 id="sortText"></h2>
    		<div class="sort-animate-wrap" id="sortAnimateBox"></div>
    	
	    	<div class="btn-group">
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.bubble)" >
			      冒泡排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.quick)" >
			      快速排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.insert)" >
			      插入排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.shell)" >
			      希尔排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.selection)" >
			      选择排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.cocktail)" >
			      鸡尾酒排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.oddEven)" >
			      奇偶排序
			    </button>
			    <button class="btn btn-sm" type="button" onclick="playSortAnimate(sortMethodMap.comb)" >
			      梳排序
			    </button>
		  </div>
		</div>

<!-- 		<ul id="test-result">
		</ul> -->

		<input value="50" max="100"  min="1"  type="range" onchange="srotanimte && srotanimte.changeSpeed(100-this.value)" style="width:100%;" />

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jun-lu/SortAnimate">Sortanimate</a> is maintained by <a href="https://github.com/jun-lu">jun-lu</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>
    </section>

    <script type="text/javascript">
	
		var srotanimte = null;
		var playSpeed = 50; //播放速度毫秒
		var arrayLength = 5 //随机排序数组长度
		
		var sortMethodMap = {
			bubble:{
				sort:"bubbleSort",
				animateSort:"bubbleSortAnimate",
				text:"冒泡排序"
			},

		};		
		
		
		function playSortAnimate( key ){
			var arr = randomArrayText(arrayLength);  //随机生成数组
			srotanimte = new SortAnimate( arr, document.querySelector('#sortAnimateBox') );
			//构建实例，将SortAnimate函数的属性和方法继承(并传数组和界面外框参数)
			//这里只是继承了方法和属性并不运行
			window[key.animateSort](arr, srotanimte);
			//调取bubbleSortAnimate函数
			//将属性转变函数的调用需要这个样子window[functionname]()
			srotanimte.play(playSpeed);
		}
		function bubbleSortAnimate(array, list){
			var len = array.length,i,j, d;
			list.activeFragment(0,len); //将需要激活的数组长度下来
			for(i=len;i--;){
				for(j=0; j<i; j++){
					var z = j+1;
					list.activeOne(j);  //将需要激活的数组位置保存到激活ui中
					if(array[j] > array[z]){
						d = array[j];
						array[j] = array[z];
						array[z] = d;
						list.exchange(j, z);  //变化位置的两个数据保存到交换中
					}
					list.blurOne(j);     //正在交换的数据保存下来
				}
				list.blurFragment(j,len);	//将数据删选完成的数据片段保存
			}
			return array;
		};
		function randomArrayText(len){
			len = len || 30;
			var arr = [];
			for(var i=0; i<len;i++){
				arr.push( i );
			}
			arr.sort(function(){
				return Math.random() - 0.5;
			});
			console.log(arr)
			return arr;

		};



    </script>

  
  </body>
</html>
